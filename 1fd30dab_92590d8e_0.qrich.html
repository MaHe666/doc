<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta name="qrichtext" content="1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
p, li { white-space: pre-wrap; }
</style>
</head>
<body style="font-family:'微软雅黑'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="margin:0px;">Hyperloglog</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">什么是基数？</p>
<p style="margin:0px;">比如现在有两个集合，这两个集合重复的元素是5个，那么基数就是5</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">优点：占用的内存是固定的，2^64 不同元素的技术，是需要占用12KB的内存！如果要从内存角度来比较的话 Hyperloglog是首选</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">例：需要统计网站的UV（访问量，一个人访问多次也算作一次）</p>
<p style="margin:0px;">	传统的方式，set集合保存用户的id，然后就可以统计set集合中的元素数量作为标准判断</p>
<p style="margin:0px;">	这个方式如果保存大量的用户id，就会比较麻烦！我们的目的是计数，而不是保存用户id</p>
<p style="margin:0px;">	0.81%错误率！统计UV任务，可以忽略不计</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">创建一组元素</p>
<p style="margin:0px;">	pfadd 组名 元素名1 元素名2</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">按照键名输出组内元素数量</p>
<p style="margin:0px;">	pfcount 组名</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">合并多组元素并创建一个新组</p>
<p style="margin:0px;">	pfmerge 新组名 组名1 组名2</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">----------------------------------------------------------------------------</p>
<p style="margin:0px;">如果允许容错，使用Hyperloglog就好</p>
<p style="margin:0px;">如果不允许容错，就使用set集合或者自己想用的数据结构就好</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>

<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>