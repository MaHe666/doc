<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta name="qrichtext" content="1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
p, li { white-space: pre-wrap; }
</style>
</head>
<body style="font-family:'微软雅黑'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="margin:0px;">包是一种用“点式模块名”构造 Python 模块命名空间的方法。例如，模块名 A.B 表示包 A 中名为 B 的子模块。正如模块可以区分不同模块之间的全局变量名称一样，点式模块名可以区分 NumPy 或 Pillow 等不同多模块包之间的模块名称。</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">假设要为统一处理声音文件与声音数据设计一个模块集（“包”）。声音文件的格式很多（通常以扩展名来识别，例如：.wav， .aiff， .au），因此，为了不同文件格式之间的转换，需要创建和维护一个不断增长的模块集合。为了实现对声音数据的不同处理（例如，混声、添加回声、均衡器功能、创造人工立体声效果），还要编写无穷无尽的模块流。</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">以如下目录树为例：</p>
<p style="margin:0px;">sound/                          Top-level package</p>
<p style="margin:0px;">      __init__.py               Initialize the sound package</p>
<p style="margin:0px;">      formats/                  Subpackage for file format conversions</p>
<p style="margin:0px;">              __init__.py</p>
<p style="margin:0px;">              wavread.py</p>
<p style="margin:0px;">              wavwrite.py</p>
<p style="margin:0px;">              aiffread.py</p>
<p style="margin:0px;">              aiffwrite.py</p>
<p style="margin:0px;">              auread.py</p>
<p style="margin:0px;">              auwrite.py</p>
<p style="margin:0px;">              ...</p>
<p style="margin:0px;">      effects/                  Subpackage for sound effects</p>
<p style="margin:0px;">              __init__.py</p>
<p style="margin:0px;">              echo.py</p>
<p style="margin:0px;">              surround.py</p>
<p style="margin:0px;">              reverse.py</p>
<p style="margin:0px;">              ...</p>
<p style="margin:0px;">      filters/                  Subpackage for filters</p>
<p style="margin:0px;">              __init__.py</p>
<p style="margin:0px;">              equalizer.py</p>
<p style="margin:0px;">              vocoder.py</p>
<p style="margin:0px;">              karaoke.py</p>
<p style="margin:0px;">              ...</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">导入包时，Python 搜索 sys.path 里的目录，查找包的子目录</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">Python 只把含 __init__.py 文件的目录当成包。这样可以防止以 string 等通用名称命名的目录，无意中屏蔽出现在后方模块搜索路径中的有效模块。 最简情况下，__init__.py 只是一个空文件，但该文件也可以执行包的初始化代码，或设置 __all__ 变量，详见下文。</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">还可以从包中导入单个模块，例如：</p>
<p style="margin:0px;">import sound.effects.echo</p>
<p style="margin:0px;">这段代码加载子模块 sound.effects.echo ，但引用时必须使用子模块的全名</p>
<p style="margin:0px;">sound.effects.echo.echofilter(input, output, delay=0.7, atten=4)</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">另一种导入子模块的方法是：</p>
<p style="margin:0px;">from sound.effects import echo</p>
<p style="margin:0px;">这段代码还可以加载子模块 echo ，不加包前缀也可以使用。因此，可以按如下方式使用：</p>
<p style="margin:0px;">echo.echofilter(input, output, delay=0.7, atten=4)</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">Import 语句的另一种变体是直接导入所需的函数或变量</p>
<p style="margin:0px;">from sound.effects.echo import echofilter</p>
<p style="margin:0px;">同样，这样也会加载子模块 echo，但可以直接使用函数 echofilter()</p>
<p style="margin:0px;">echofilter(input, output, delay=0.7, atten=4)</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">注意，使用 from package import item 时，item 可以是包的子模块（或子包），也可以是包中定义的函数、类或变量等其他名称。import 语句首先测试包中是否定义了 item；如果未在包中定义，则假定 item 是模块，并尝试加载。如果找不到 item，则触发 ImportError 异常。</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">相反，使用 import item.subitem.subsubitem 句法时，除最后一项外，每个 item 都必须是包；最后一项可以是模块或包，但不能是上一项中定义的类、函数或变量。</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>

<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>