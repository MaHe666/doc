import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as e,f as a}from"./app-_JAIXX3j.js";const l={},n=a(`<div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>这里使用的Linux版本是 <code>CentOS7</code></li><li>这里使用的Hadoop版本是 <code>Hadoop-3.3.6</code></li><li>这里使用的JDK版本是 <code>8</code></li></ul></div><h2 id="hadoop源码编译部署" tabindex="-1"><a class="header-anchor" href="#hadoop源码编译部署"><span>Hadoop源码编译部署</span></a></h2><p>匹配不同操作系统本地库环境，Hadoop某些操作比如压缩、I0需要调用系统本地库(<code>*.so</code>|<code>*.dl1</code>)</p><p>带有 <code>src</code> 字样的 <code>.tar.gz</code> 文件就是源码包，查看源码包根路径下的 <code>BUILDING.txt</code>，查看都需要什么环境，然后编译即可</p><p>相关博客：</p><ul><li><a href="https://zhuanlan.zhihu.com/p/447274945" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/447274945</a></li><li><a href="https://blog.csdn.net/weixin_45835339/article/details/123974591" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_45835339/article/details/123974591</a></li></ul><p>某些公司会优化源代码，编译后使Hadoop更契合自己的业务</p><h2 id="hadoop集群角色规划" tabindex="-1"><a class="header-anchor" href="#hadoop集群角色规划"><span>Hadoop集群角色规划</span></a></h2><p>例如，公司给你1000台服务器，让你去搭建Hadoop集群和其他软件，怎样做一个合理规划？</p><p>例如某个软件的运行依赖于大内存，那就尽量去给它分配到大内存的服务器上</p><p>如果某两个软件的运行互相冲突，那就尽量给他们避开一点</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>资源上有抢夺冲突的，尽量不要部署在一起</p><p>工作上需要相互配合的，尽量部署在一起</p></div><h2 id="处理虚拟机" tabindex="-1"><a class="header-anchor" href="#处理虚拟机"><span>处理虚拟机</span></a></h2><p>为了更happy的学习Hadoop，建议内存为 4G，硬盘为 50G</p><p>首先配置三台 <code>Linux</code>虚拟机，分别为 <code>testHadoop1</code>、<code>testHadoop2</code>、<code>testHadoop3</code></p><h3 id="下载通用软件" tabindex="-1"><a class="header-anchor" href="#下载通用软件"><span>下载通用软件</span></a></h3><p>安装一些Linux用的软件</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 额外软件包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> epel-release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 最小安装的Linux系统需要安装如下软件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> net-tools</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙"><span>关闭防火墙</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 关闭防火墙</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 禁用防火墙开机自启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>企业开发时，通常情况下，服务器之间的防火墙是关闭的。公司会将整个服务器机组对外设置防火墙</p><h3 id="修改虚拟机ip和hostname" tabindex="-1"><a class="header-anchor" href="#修改虚拟机ip和hostname"><span>修改虚拟机IP和Hostname</span></a></h3><p>修改IP的话需要配置 <code>/etc/sysconfig/network-scripts/ifcfg-ens33</code>、<code>/etc/hostname</code> 和 <code>/etc/hosts</code> 文件</p><ul><li><code>/etc/sysconfig/network-scripts/ifcfg-ens33</code>：配置静态ip</li><li><code>/etc/hostname</code>：配置当前主机名称</li><li><code>/etc/hosts</code>：配置ip别名，将包括本机在内的所有Hadoop集群中服务器，都配置一下别名</li></ul><h2 id="安装及配置环境变量" tabindex="-1"><a class="header-anchor" href="#安装及配置环境变量"><span>安装及配置环境变量</span></a></h2><blockquote><p>在开始之前，选中其中一台机器，根据如下内容安装JDK和Hadoop。然后将内容分发到其他机器上</p><p>需要使用 <code>tar.gz安装包</code> 在 <code>/opt/module</code> 目录下 安装JDK，并且配置好环境变量</p><p>注意查看是否有系统自带的JDK</p><p>成功安装后再进行如下操作</p><p>注：明确解压缩路径是为了分发安装软件后的内容</p></blockquote><p>解压Hadoop压缩包至 <code>/opt/module</code> 下，解压后的文件会自动组成一个文件夹</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hadoop安装包</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/module</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量"><span>配置环境变量</span></a></h3><p>在 <code>/etc/profile.d</code> 中创建文件 <code>hadoop_env.sh</code> 文件</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">touch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hadoop_env.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将如下内容放进去</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#HADOOP_HOME</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> HADOOP_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">opt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">hadoop-3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">6</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$HADOOP_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$HADOOP_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sbin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使配置文件生效</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看Hadoop版本</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hadoop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看Hadoop安装路径</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hadoop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="hadoop目录结构及介绍" tabindex="-1"><a class="header-anchor" href="#hadoop目录结构及介绍"><span>Hadoop目录结构及介绍</span></a></h3><ul><li><p><code>bin</code>:Hadoop相关服务（<code>hdfs</code>、<code>yarn</code>、<code>mapred</code>）的操作脚本存放在此目录下，但是通常使用的脚本在sbin目录下。</p></li><li><p><code>etc</code>:Hadoop配置文件存放在此目录下，主要包含<code>core-site.xml</code>、<code>hdfs-site.xml</code>、<code>mapred-site.xml</code> 等从 Hadoop1.0 继承而来的配置文件和 <code>yarn-site.xml</code> 等 Hadoop2.0 新增的配置文件。</p></li><li><p><code>lib</code>:Hadoop对外提供的编程动态库和静态库存放在此目录下。</p></li><li><p><code>sbin</code>:Hadoop管理脚本存放在此目录下，主要包含hadoop单机运行、HDFS和YARN中各类服务的启动/关闭脚本。</p></li><li><p><code>src</code>:Hadoop的源码包存放在此目录下。</p></li><li><p><code>share</code>:存放Hadoop的依赖 jar 包、文档、和官方案例</p></li></ul><h3 id="hadoop配置文件及介绍" tabindex="-1"><a class="header-anchor" href="#hadoop配置文件及介绍"><span>Hadoop配置文件及介绍</span></a></h3><ul><li><p><code>hadoop-env.sh</code>:配置Hadoop运行所需的环境变量</p></li><li><p><code>yarn-env.sh</code>:配置Yarn运行所需的环境变量</p></li><li><p><code>core-site.xml</code>:Hadoop核心全局配置文件，可在其他配置文件中引用该文件</p></li><li><p><code>hdfs-site.xml</code>:HDFS配置文件，继承<code>core-site.xml</code>配置文件</p></li><li><p><code>mapred-site.xml</code>:MapReduce配置文件，继承<code>core-site.xml</code>配置文件</p></li><li><p><code>yarn-site.xml</code>:Yarn配置文件，继承<code>core-site.xml</code>配置文件</p></li></ul><h2 id="运行模式" tabindex="-1"><a class="header-anchor" href="#运行模式"><span>运行模式</span></a></h2><p>Hadoop运行模式包括：<code>本地模式</code>、<code>伪分布式模式</code> 和 <code>完全分布式模式</code></p><ul><li><p><code>本地模式</code>：单机运行，只是用来演示一下官方案例。生产环境不用。</p></li><li><p><code>伪分布式模式</code>：也是单机运行，但是具备Hadoop集群的所有功能，一台服务器模拟一个分布式的环境，生产环境不用。（个别缺钱的公司用来测试）</p></li><li><p><code>完全分布式模式</code>：多台服务器组成分布式环境，<strong>生产环境使用</strong></p></li></ul><h3 id="本地模式" tabindex="-1"><a class="header-anchor" href="#本地模式"><span>本地模式</span></a></h3><p>使用官方的 <code>WordCount</code> 案例</p><p>进入到hadoop根目录下，在当前目录下创建文件夹 <code>wcinput</code></p><p>在 <code>./wcinput</code> 路径下，创建文件 <code>word.txt</code>，写上如下内容</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./wcinput/word.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>hadoop hadoop hadoop</span></span>
<span class="line"><span>java java java java</span></span>
<span class="line"><span>mahe666 mahe666</span></span>
<span class="line"><span>mahe233</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后输入命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hadoop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.6.jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wordcount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wcinput/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wcoutput/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>解析如下</p><ul><li><code>hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.6.jar wordcount</code>：运行官方示例中的jar包里的wordcount</li><li><code>wcinput/</code>：输入路径（word.txt 文件所在路径）</li><li><code>wcoutput/</code>：输出结果的地方，如果输出时存在该文件夹，则会报错</li></ul></div><p>查看结果</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./wcoutput/part-r-00000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出结果如下</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>hadoop  3</span></span>
<span class="line"><span>java    4</span></span>
<span class="line"><span>mahe233 1</span></span>
<span class="line"><span>mahe666 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="集群分发脚本" tabindex="-1"><a class="header-anchor" href="#集群分发脚本"><span>集群分发脚本</span></a></h2><p>上面的做完，我们准备开始搭建完全分布式模式了</p><p>先不急着去给其他两个服务器安装软件</p><p>因为这里要用 <code>分发脚本</code> 来拷贝过去</p><h3 id="scp-secure-copy-安全拷贝" tabindex="-1"><a class="header-anchor" href="#scp-secure-copy-安全拷贝"><span>scp(secure copy) 安全拷贝</span></a></h3><p><strong>定义</strong>：scp可以实现服务器与服务器之间的数据拷贝</p><p><strong>基本语法</strong>：<code>scp -r 本机文件夹路径 远程机用户@远程机IP:远程机文件夹路径</code></p><ul><li><code>scp</code>：命令</li><li><code>-r</code>：递归</li><li><code>本机文件夹路径</code>：需要拷贝本地哪个路径下的哪个文件夹，写绝对路径指定</li><li><code>远程机用户@远程机IP:远程机文件夹路径</code>：这里面的 <code>@</code> 和 <code>:</code> 符号不能省略。如果我需要将本机上的 <code>/opt/module</code> 文件夹下的所有内容拷贝过去，那么远程文件夹路径就需要写 <code>/opt</code>（注意确保远程机有 <code>/opt</code> 地址）</li></ul><p>操作如下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 可以这样写</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/module</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root@192.168.100.102:/opt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 也可以这样写</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/module/</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root@192.168.100.103:/opt/module</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="rsync-远程同步工具" tabindex="-1"><a class="header-anchor" href="#rsync-远程同步工具"><span>rsync 远程同步工具</span></a></h3><p>相关博客：</p><ul><li><a href="https://blog.csdn.net/zhangxueleishamo/article/details/80094875" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/zhangxueleishamo/article/details/80094875</a></li><li><a href="https://blog.csdn.net/Luckyyhr/article/details/116446239" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Luckyyhr/article/details/116446239</a></li></ul><p><strong>定义</strong>：<code>rsync</code> 主要用于备份和镜像。具有速度快、避免复制相同内容和支持符号链接的优点。</p><p><strong>rsync 和 scp 区别</strong>：用 <code>rsync</code> 做文件的复制要比 <code>scp</code> 的速度快，<code>rsync</code> 只对差异文件做更新。<code>scp</code> 是把所有文件都复制过去</p><p><strong>基本语法</strong>：<code>rsync -av 本机文件夹路径 远程机用户@远程机IP:远程机文件夹路径</code></p><ul><li><code>rsync</code>：命令</li><li><code>-av</code>：选项参数。<code>-a</code>代表归档拷贝，<code>-v</code>代表显示复制过程</li></ul><h3 id="xsync-集群分发脚本" tabindex="-1"><a class="header-anchor" href="#xsync-集群分发脚本"><span>xsync 集群分发脚本</span></a></h3><p>相关博客：<a href="https://blog.csdn.net/qq_43066945/article/details/119458718" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_43066945/article/details/119458718</a></p><h3 id="配置环境变量-1" tabindex="-1"><a class="header-anchor" href="#配置环境变量-1"><span>配置环境变量</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><p>同步之后不要忘记配置环境变量</p></div>`,80),t=[n];function d(h,p){return e(),s("div",null,t)}const c=i(l,[["render",d],["__file","安装与部署.html.vue"]]),k=JSON.parse('{"path":"/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2.html","title":"安装与部署","lang":"zh-CN","frontmatter":{"title":"安装与部署","order":10,"description":"提示 这里使用的Linux版本是 CentOS7 这里使用的Hadoop版本是 Hadoop-3.3.6 这里使用的JDK版本是 8 Hadoop源码编译部署 匹配不同操作系统本地库环境，Hadoop某些操作比如压缩、I0需要调用系统本地库(*.so|*.dl1) 带有 src 字样的 .tar.gz 文件就是源码包，查看源码包根路径下的 BUILDI...","head":[["meta",{"property":"og:url","content":"https://mahe666.github.io/doc/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2.html"}],["meta",{"property":"og:site_name","content":"Mahe666"}],["meta",{"property":"og:title","content":"安装与部署"}],["meta",{"property":"og:description","content":"提示 这里使用的Linux版本是 CentOS7 这里使用的Hadoop版本是 Hadoop-3.3.6 这里使用的JDK版本是 8 Hadoop源码编译部署 匹配不同操作系统本地库环境，Hadoop某些操作比如压缩、I0需要调用系统本地库(*.so|*.dl1) 带有 src 字样的 .tar.gz 文件就是源码包，查看源码包根路径下的 BUILDI..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-16T11:31:59.000Z"}],["meta",{"property":"article:author","content":"Mahe666"}],["meta",{"property":"article:modified_time","content":"2024-06-16T11:31:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装与部署\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-16T11:31:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mahe666\\"}]}"]]},"headers":[{"level":2,"title":"Hadoop源码编译部署","slug":"hadoop源码编译部署","link":"#hadoop源码编译部署","children":[]},{"level":2,"title":"Hadoop集群角色规划","slug":"hadoop集群角色规划","link":"#hadoop集群角色规划","children":[]},{"level":2,"title":"处理虚拟机","slug":"处理虚拟机","link":"#处理虚拟机","children":[{"level":3,"title":"下载通用软件","slug":"下载通用软件","link":"#下载通用软件","children":[]},{"level":3,"title":"关闭防火墙","slug":"关闭防火墙","link":"#关闭防火墙","children":[]},{"level":3,"title":"修改虚拟机IP和Hostname","slug":"修改虚拟机ip和hostname","link":"#修改虚拟机ip和hostname","children":[]}]},{"level":2,"title":"安装及配置环境变量","slug":"安装及配置环境变量","link":"#安装及配置环境变量","children":[{"level":3,"title":"配置环境变量","slug":"配置环境变量","link":"#配置环境变量","children":[]},{"level":3,"title":"Hadoop目录结构及介绍","slug":"hadoop目录结构及介绍","link":"#hadoop目录结构及介绍","children":[]},{"level":3,"title":"Hadoop配置文件及介绍","slug":"hadoop配置文件及介绍","link":"#hadoop配置文件及介绍","children":[]}]},{"level":2,"title":"运行模式","slug":"运行模式","link":"#运行模式","children":[{"level":3,"title":"本地模式","slug":"本地模式","link":"#本地模式","children":[]}]},{"level":2,"title":"集群分发脚本","slug":"集群分发脚本","link":"#集群分发脚本","children":[{"level":3,"title":"scp(secure copy) 安全拷贝","slug":"scp-secure-copy-安全拷贝","link":"#scp-secure-copy-安全拷贝","children":[]},{"level":3,"title":"rsync 远程同步工具","slug":"rsync-远程同步工具","link":"#rsync-远程同步工具","children":[]},{"level":3,"title":"xsync 集群分发脚本","slug":"xsync-集群分发脚本","link":"#xsync-集群分发脚本","children":[]},{"level":3,"title":"配置环境变量","slug":"配置环境变量-1","link":"#配置环境变量-1","children":[]}]}],"git":{"createdTime":1711789865000,"updatedTime":1718537519000,"contributors":[{"name":"mahe666","email":"m13234666930@163.com","commits":1}]},"filePathRelative":"大数据/Hadoop分布式存储框架/安装与部署.md","localizedDate":"2024年3月30日","autoDesc":true}');export{c as comp,k as data};
