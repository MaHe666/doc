import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as c,c as o,d as n,e as a,a as t,f as l}from"./app-CgReBuZQ.js";const i={},u=n("p",null,"JDBC如果链接数据库，注意一下数据库驱动",-1),r={href:"https://downloads.mysql.com/archives/c-j/",target:"_blank",rel:"noopener noreferrer"},d={href:"https://mvnrepository.com/artifact/mysql/mysql-connector-java",target:"_blank",rel:"noopener noreferrer"},k=l(`<p>Maven依赖</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--mysql驱动--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.49<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用法" tabindex="-1"><a class="header-anchor" href="#用法"><span>用法</span></a></h2><h3 id="_1-加载驱动" tabindex="-1"><a class="header-anchor" href="#_1-加载驱动"><span>1. 加载驱动</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>        <span class="token comment">/*
         * 常规加载驱动语法
         * DriverManager.registerDriver(new com.mysql.jdbc.Driver());
         *
         * 固定写法，这个写法与 注解和反射 知识有关
         */</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-用户信息和url" tabindex="-1"><a class="header-anchor" href="#_2-用户信息和url"><span>2. 用户信息和url</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>	    <span class="token comment">/*
         * useUnicode=true           使用中文编码
         * characterEncoding=utf8    字符集使用UTF-8
         * useSSL=true               使用安全的链接
	     * serverTimezone=UTC		8版本的mysql需要加上这个属性
         */</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>jdbc:mysql://主机名:端口号/数据库名?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</code></p><p>mysql 8.0以上版本参数有变动！！！</p><h3 id="_3-连接数据库-返回一个数据库对象-connection" tabindex="-1"><a class="header-anchor" href="#_3-连接数据库-返回一个数据库对象-connection"><span>3. 连接数据库，返回一个数据库对象 Connection</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>数据库对象可以操作数据库级别的东西，例如事务的提交和回滚等</p><h3 id="_4-获得执行sql的对象-statement不安全" tabindex="-1"><a class="header-anchor" href="#_4-获得执行sql的对象-statement不安全"><span>4. 获得执行SQL的对象 Statement 不安全！！！</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>	 <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//查询操作，返回结果集 ResultSet</span>
	 <span class="token keyword">int</span> rows <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//插入，更新，删除都可以用这个，返回一个受影响的行数</span>
	 statement<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//可以操作任何语句</span>
	 <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rowsArray <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span>sql1<span class="token punctuation">,</span>sql2<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//同时操作多个语句</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-获得返回的结果集-resultset" tabindex="-1"><a class="header-anchor" href="#_5-获得返回的结果集-resultset"><span>5. 获得返回的结果集 Resultset</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>        resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//在不知道字段类型的情况下使用，如果知道，则使用指定类型</span>
        resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//varchar</span>
        resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//int</span>
        resultSet<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//float</span>
        resultSet<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//double</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果遍历和指针</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>	 resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//向后走</span>
	 resultSet<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//向前走</span>
	 resultSet<span class="token punctuation">.</span><span class="token function">absolute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//移动到指定行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-释放连接" tabindex="-1"><a class="header-anchor" href="#_6-释放连接"><span>6. 释放连接</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>	     resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	     statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	     connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>先开后关原则。占内存，一定要关掉</p>`,21);function v(m,g){const s=p("ExternalLinkIcon");return c(),o("div",null,[u,n("p",null,[a("驱动下载地址："),n("a",r,[a("https://downloads.mysql.com/archives/c-j/"),t(s)])]),n("p",null,[a("mvn地址："),n("a",d,[a("https://mvnrepository.com/artifact/mysql/mysql-connector-java"),t(s)])]),k])}const f=e(i,[["render",v],["__file","index.html.vue"]]);export{f as default};
