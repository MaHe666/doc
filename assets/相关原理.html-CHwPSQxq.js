import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,o as s,f as a}from"./app-D5lsX9Eo.js";const t={},n=a(`<h2 id="hdfs读写文件原理-面试重点" tabindex="-1"><a class="header-anchor" href="#hdfs读写文件原理-面试重点"><span>HDFS读写文件原理（面试重点）</span></a></h2><p>相关博客：<a href="https://blog.csdn.net/qq_17685725/article/details/123243677" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_17685725/article/details/123243677</a></p><h2 id="节点距离计算" tabindex="-1"><a class="header-anchor" href="#节点距离计算"><span>节点距离计算</span></a></h2><p>在HDFS写数据的过程中，NameNode 会选择距离上传数据最近的 DataNode 接收数据。</p><p>相关博客：<a href="https://blog.csdn.net/a1786742005/article/details/104152245" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/a1786742005/article/details/104152245</a></p><h2 id="节点感知" tabindex="-1"><a class="header-anchor" href="#节点感知"><span>节点感知</span></a></h2><p>相关博客：</p><ul><li><a href="https://blog.csdn.net/a1786742005/article/details/104152314" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/a1786742005/article/details/104152314</a></li><li><a href="https://zhuanlan.zhihu.com/p/341505568" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/341505568</a></li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>查看节点分配的相关代码需要在pom.xml中如下依赖</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">&lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.apache.hadoop&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;hadoop-hdfs&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;3.3.6&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看该依赖中的 <code>org.apache.hadoop.hdfs.server.blockmanagement</code> 包下的 <code>BlockPlacementPolicyDefault</code> 文件，该类里的 <code>chooseTargetInOrder</code> 方法</p></div><h2 id="namenode-和-secondarynamenode-工作机制" tabindex="-1"><a class="header-anchor" href="#namenode-和-secondarynamenode-工作机制"><span>NameNode 和 SecondaryNameNode 工作机制</span></a></h2><p>相关博客：</p><ul><li><a href="https://juejin.cn/post/7139352875611717662" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7139352875611717662</a></li><li><a href="https://juejin.cn/post/7004722549246394382" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7004722549246394382</a></li><li><a href="https://juejin.cn/post/6943473152513179679" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6943473152513179679</a></li><li><a href="https://blog.csdn.net/words8/article/details/118056454" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/words8/article/details/118056454</a></li></ul><h3 id="fsimage文件" tabindex="-1"><a class="header-anchor" href="#fsimage文件"><span>Fsimage文件</span></a></h3><p>使用 <code>cat</code> 命令查看文件会出现乱码，所以需要特定的方式来查看，如下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hdfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oiv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 需要转换成什么文件类型</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 需要查看的文件</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 转换后文件输出路径</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建 <code>/home/mahe666</code> 目录，命令示例如下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hdfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oiv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XML</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fsimage_0000000000000000398</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/mahe666/fsimage.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看输出出来的 <code>fsimage.xml</code> 文件</p><p>里面的每一个 <code>&lt;inode&gt;</code> 都是在 HDFS 中存储的文件信息</p><p>往下找，找到 <code>&lt;directory&gt;</code> 标签，里面写了文件夹的父子关系，他们是通过 <code>&lt;inode&gt;</code> 标签里的 <code>&lt;id&gt;</code> 标签绑定的</p><h3 id="edits文件" tabindex="-1"><a class="header-anchor" href="#edits文件"><span>Edits文件</span></a></h3><p>带有 <code>inprogress</code> 字样的edits文件是正在使用的</p><p>和 Fsimage文件 一样，使用 <code>cat</code> 命令查看文件会出现乱码，所以需要特定的方式来查看，如下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hdfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oev</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 需要转换成什么文件类型</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 需要查看的文件</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 转换后文件输出路径</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>确保存在 <code>/home/mahe666</code> 目录，命令示例如下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hdfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oev</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XML</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> edits_inprogress_0000000000000000416</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/mahe666/edits.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="fsimage文件和edits文件相关博客" tabindex="-1"><a class="header-anchor" href="#fsimage文件和edits文件相关博客"><span>Fsimage文件和Edits文件相关博客</span></a></h3><p>相关博客：</p><ul><li><a href="https://juejin.cn/post/6954298653339025445" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6954298653339025445</a></li><li><a href="https://juejin.cn/post/7067776430553661477" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7067776430553661477</a></li><li><a href="https://blog.csdn.net/Ele_sorriu/article/details/109082455" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Ele_sorriu/article/details/109082455</a></li><li><a href="https://zhuanlan.zhihu.com/p/378389087" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/378389087</a></li></ul>`,29),l=[n];function h(r,d){return s(),e("div",null,l)}const k=i(t,[["render",h],["__file","相关原理.html.vue"]]),c=JSON.parse('{"path":"/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6/HDFS%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/%E7%9B%B8%E5%85%B3%E5%8E%9F%E7%90%86.html","title":"相关原理","lang":"zh-CN","frontmatter":{"title":"相关原理","order":30,"description":"HDFS读写文件原理（面试重点） 相关博客：https://blog.csdn.net/qq_17685725/article/details/123243677 节点距离计算 在HDFS写数据的过程中，NameNode 会选择距离上传数据最近的 DataNode 接收数据。 相关博客：https://blog.csdn.net/a1786742005...","head":[["meta",{"property":"og:url","content":"https://mahe666.github.io/doc/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6/HDFS%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/%E7%9B%B8%E5%85%B3%E5%8E%9F%E7%90%86.html"}],["meta",{"property":"og:site_name","content":"Mahe666"}],["meta",{"property":"og:title","content":"相关原理"}],["meta",{"property":"og:description","content":"HDFS读写文件原理（面试重点） 相关博客：https://blog.csdn.net/qq_17685725/article/details/123243677 节点距离计算 在HDFS写数据的过程中，NameNode 会选择距离上传数据最近的 DataNode 接收数据。 相关博客：https://blog.csdn.net/a1786742005..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-16T11:31:59.000Z"}],["meta",{"property":"article:author","content":"Mahe666"}],["meta",{"property":"article:modified_time","content":"2024-06-16T11:31:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"相关原理\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-16T11:31:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mahe666\\"}]}"]]},"headers":[{"level":2,"title":"HDFS读写文件原理（面试重点）","slug":"hdfs读写文件原理-面试重点","link":"#hdfs读写文件原理-面试重点","children":[]},{"level":2,"title":"节点距离计算","slug":"节点距离计算","link":"#节点距离计算","children":[]},{"level":2,"title":"节点感知","slug":"节点感知","link":"#节点感知","children":[]},{"level":2,"title":"NameNode 和 SecondaryNameNode 工作机制","slug":"namenode-和-secondarynamenode-工作机制","link":"#namenode-和-secondarynamenode-工作机制","children":[{"level":3,"title":"Fsimage文件","slug":"fsimage文件","link":"#fsimage文件","children":[]},{"level":3,"title":"Edits文件","slug":"edits文件","link":"#edits文件","children":[]},{"level":3,"title":"Fsimage文件和Edits文件相关博客","slug":"fsimage文件和edits文件相关博客","link":"#fsimage文件和edits文件相关博客","children":[]}]}],"git":{"createdTime":1713442387000,"updatedTime":1718537519000,"contributors":[{"name":"mahe666","email":"m13234666930@163.com","commits":1}]},"filePathRelative":"大数据/Hadoop分布式存储框架/HDFS分布式文件系统/相关原理.md","localizedDate":"2024年4月18日","autoDesc":true}');export{k as comp,c as data};
