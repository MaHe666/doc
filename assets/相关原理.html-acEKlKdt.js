import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as r,c as p,d as e,e as a,a as s,f as t}from"./app-SBYfZL6V.js";const i={},c=e("h2",{id:"hdfs读写文件原理-面试重点",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#hdfs读写文件原理-面试重点"},[e("span",null,"HDFS读写文件原理（面试重点）")])],-1),d={href:"https://blog.csdn.net/qq_17685725/article/details/123243677",target:"_blank",rel:"noopener noreferrer"},h=e("h2",{id:"节点距离计算",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#节点距离计算"},[e("span",null,"节点距离计算")])],-1),u=e("p",null,"在HDFS写数据的过程中，NameNode 会选择距离上传数据最近的 DataNode 接收数据。",-1),m={href:"https://blog.csdn.net/a1786742005/article/details/104152245",target:"_blank",rel:"noopener noreferrer"},g=e("h2",{id:"节点感知",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#节点感知"},[e("span",null,"节点感知")])],-1),_=e("p",null,"相关博客：",-1),b={href:"https://blog.csdn.net/a1786742005/article/details/104152314",target:"_blank",rel:"noopener noreferrer"},v={href:"https://zhuanlan.zhihu.com/p/341505568",target:"_blank",rel:"noopener noreferrer"},k=t(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>查看节点分配的相关代码需要在pom.xml中如下依赖</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.hadoop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hadoop-hdfs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.3.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看该依赖中的 <code>org.apache.hadoop.hdfs.server.blockmanagement</code> 包下的 <code>BlockPlacementPolicyDefault</code> 文件，该类里的 <code>chooseTargetInOrder</code> 方法</p></div><h2 id="namenode-和-secondarynamenode-工作机制" tabindex="-1"><a class="header-anchor" href="#namenode-和-secondarynamenode-工作机制"><span>NameNode 和 SecondaryNameNode 工作机制</span></a></h2><p>相关博客：</p>`,3),f={href:"https://juejin.cn/post/7139352875611717662",target:"_blank",rel:"noopener noreferrer"},x={href:"https://juejin.cn/post/7004722549246394382",target:"_blank",rel:"noopener noreferrer"},j={href:"https://juejin.cn/post/6943473152513179679",target:"_blank",rel:"noopener noreferrer"},N={href:"https://blog.csdn.net/words8/article/details/118056454",target:"_blank",rel:"noopener noreferrer"},y=t(`<h3 id="fsimage文件" tabindex="-1"><a class="header-anchor" href="#fsimage文件"><span>Fsimage文件</span></a></h3><p>使用 <code>cat</code> 命令查看文件会出现乱码，所以需要特定的方式来查看，如下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>hdfs oiv <span class="token parameter variable">-p</span> 需要转换成什么文件类型 <span class="token parameter variable">-i</span> 需要查看的文件 <span class="token parameter variable">-o</span> 转换后文件输出路径
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>创建 <code>/home/mahe666</code> 目录，命令示例如下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>hdfs oiv <span class="token parameter variable">-p</span> XML <span class="token parameter variable">-i</span> fsimage_0000000000000000398 <span class="token parameter variable">-o</span> /home/mahe666/fsimage.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看输出出来的 <code>fsimage.xml</code> 文件</p><p>里面的每一个 <code>&lt;inode&gt;</code> 都是在 HDFS 中存储的文件信息</p><p>往下找，找到 <code>&lt;directory&gt;</code> 标签，里面写了文件夹的父子关系，他们是通过 <code>&lt;inode&gt;</code> 标签里的 <code>&lt;id&gt;</code> 标签绑定的</p><h3 id="edits文件" tabindex="-1"><a class="header-anchor" href="#edits文件"><span>Edits文件</span></a></h3><p>带有 <code>inprogress</code> 字样的edits文件是正在使用的</p><p>和 Fsimage文件 一样，使用 <code>cat</code> 命令查看文件会出现乱码，所以需要特定的方式来查看，如下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>hdfs oev <span class="token parameter variable">-p</span> 需要转换成什么文件类型 <span class="token parameter variable">-i</span> 需要查看的文件 <span class="token parameter variable">-o</span> 转换后文件输出路径
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>确保存在 <code>/home/mahe666</code> 目录，命令示例如下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>hdfs oev <span class="token parameter variable">-p</span> XML <span class="token parameter variable">-i</span> edits_inprogress_0000000000000000416 <span class="token parameter variable">-o</span> /home/mahe666/edits.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="fsimage文件和edits文件相关博客" tabindex="-1"><a class="header-anchor" href="#fsimage文件和edits文件相关博客"><span>Fsimage文件和Edits文件相关博客</span></a></h3><p>相关博客：</p>`,16),z={href:"https://juejin.cn/post/6954298653339025445",target:"_blank",rel:"noopener noreferrer"},E={href:"https://juejin.cn/post/7067776430553661477",target:"_blank",rel:"noopener noreferrer"},I={href:"https://blog.csdn.net/Ele_sorriu/article/details/109082455",target:"_blank",rel:"noopener noreferrer"},F={href:"https://zhuanlan.zhihu.com/p/378389087",target:"_blank",rel:"noopener noreferrer"};function D(S,q){const n=l("ExternalLinkIcon");return r(),p("div",null,[c,e("p",null,[a("相关博客："),e("a",d,[a("https://blog.csdn.net/qq_17685725/article/details/123243677"),s(n)])]),h,u,e("p",null,[a("相关博客："),e("a",m,[a("https://blog.csdn.net/a1786742005/article/details/104152245"),s(n)])]),g,_,e("ul",null,[e("li",null,[e("a",b,[a("https://blog.csdn.net/a1786742005/article/details/104152314"),s(n)])]),e("li",null,[e("a",v,[a("https://zhuanlan.zhihu.com/p/341505568"),s(n)])])]),k,e("ul",null,[e("li",null,[e("a",f,[a("https://juejin.cn/post/7139352875611717662"),s(n)])]),e("li",null,[e("a",x,[a("https://juejin.cn/post/7004722549246394382"),s(n)])]),e("li",null,[e("a",j,[a("https://juejin.cn/post/6943473152513179679"),s(n)])]),e("li",null,[e("a",N,[a("https://blog.csdn.net/words8/article/details/118056454"),s(n)])])]),y,e("ul",null,[e("li",null,[e("a",z,[a("https://juejin.cn/post/6954298653339025445"),s(n)])]),e("li",null,[e("a",E,[a("https://juejin.cn/post/7067776430553661477"),s(n)])]),e("li",null,[e("a",I,[a("https://blog.csdn.net/Ele_sorriu/article/details/109082455"),s(n)])]),e("li",null,[e("a",F,[a("https://zhuanlan.zhihu.com/p/378389087"),s(n)])])])])}const V=o(i,[["render",D],["__file","相关原理.html.vue"]]);export{V as default};
