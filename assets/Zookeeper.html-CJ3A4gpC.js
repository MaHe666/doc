import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as s,o as d,c as t,d as e,e as a,a as r,f as c}from"./app-DXqT2YIa.js";const l={},i=e("p",null,"Dubbo官方文档推荐我们使用Zookeeper",-1),p=e("p",null,"ZooKeeper是一个分布式的，开放源码的分布式应用程序协调服务，是Google的Chubby一个开源的实现，是Hadoop和Hbase的重要组件。",-1),u=e("p",null,"它是一个为分布式应用提供一致性服务的软件，提供的功能包括：配置维护、域名服务、分布式同步、组服务等。",-1),m={href:"https://zookeeper.apache.org/",target:"_blank",rel:"noopener noreferrer"},h=c(`<p><strong>默认端口2181，同时千万不要占用2888和3888端口</strong></p><h2 id="下载和安装" tabindex="-1"><a class="header-anchor" href="#下载和安装"><span>下载和安装</span></a></h2><ol><li><p>解压从官网下载的 <code>tar.gz</code> 压缩包</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> 带后缀的文件名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果是Windows系统，需要使用 <code>Windows PowerShell</code> 解压</p></li><li><p>进入解压后文件的bin目录，使用管理员模式运行 <code>zkServer.cmd</code></p></li><li><p>编辑 <code>zkServer.cmd</code> 文件，在 <code>endlocal</code> 指令上面加一句 <code>pause</code>，这样报错的时候就不会闪退了</p><p>进入到Zookeeper下的conf文件夹，将 <code>zoo_sample.cfg</code> 复制一份，重命名为 <code>zoo.cfg</code>，这个文件就是Zookeeper的配置文件</p><blockquote><p>可能的错误：</p><p>错误：找不到或无法加载主类 org.apache.zookeeper.server.quorum.QuorumPeerMain</p><p>解决：下载对应版本的bin压缩文件，将该包下的lib目录拷贝到之前的Zookeeper文件夹中</p></blockquote></li><li><p>需要注意配置文件中的两个选项</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>#临时数据存储的目录（可写相对路径）
dataDir=../tmp/zookeeper
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>#zookeeper的端口号
clientPort=2181
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>千万不要占用2888端口和3888端口</strong></p></li></ol><p>Zookeeper是临时节点，不会像Eureka那样进行保存</p><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h2><p>使用bin目录下的 <code>zkCli.cmd</code> 进行访问测试</p><p>使用 <code>ls /</code> 指令查看节点</p><p>创建名为 <code>mahe666</code> ，值为 <code>123</code> 的节点</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>create <span class="token parameter variable">-e</span> /mahe666 <span class="token number">123</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>获取名为 <code>mahe666</code> 的节点</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>get /mahe666
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再次使用 <code>ls /</code> 指令查看节点</p>`,12);function v(b,g){const o=s("ExternalLinkIcon");return d(),t("div",null,[i,p,u,e("p",null,[a("官网："),e("a",m,[a("https://zookeeper.apache.org/"),r(o)])]),h])}const _=n(l,[["render",v],["__file","Zookeeper.html.vue"]]);export{_ as default};
