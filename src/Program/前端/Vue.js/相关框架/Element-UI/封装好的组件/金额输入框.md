---
title: 金额输入框
order: 10
---

```html
<el-input class="input" v-model="params.fillCommission" clearable @input="judgeVal($event)"></el-input>
```

```javascript
judgeVal(value) {
	console.log(value,'judgeVal'); 
	let val = (value && value.split("")) || [];
	let sNum = val.toString(); //先转换成字符串类型
	if (sNum.indexOf('.') === 0) {//第一位就是 . 
		sNum = '0' + sNum
	}
	sNum = sNum.replace(/[^\d.]/g,"");  //清除“数字”和“.”以外的字符
	sNum = sNum.replace(/\.{2,}/g,"."); //只保留第一个. 清除多余的
	sNum = sNum.replace(".","$#$").replace(/\./g,"").replace("$#$",".");
	sNum = sNum.replace(/^(\-)*(\d+)\.(\d\d).*$/,'$1$2.$3');//只能输入两个小数
	//以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额
	if(sNum.indexOf(".")< 0 && sNum !==""){
		sNum = parseFloat(sNum);
	}
	this.params.fillCommission = sNum; 
}
```


如果想添加可以输入负号“-” 的功能，则在校验方法的返回值之前加上如下代码

```javascript
if (value.charAt(0) === '-') sNum = "-" + sNum
```