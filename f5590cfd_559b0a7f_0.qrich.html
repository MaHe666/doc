<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta name="qrichtext" content="1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
p, li { white-space: pre-wrap; }
</style>
</head>
<body style="font-family:'微软雅黑'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="margin:0px;">&lt;el-input class=&quot;input&quot; v-model=&quot;params.fillCommission&quot; clearable @input=&quot;judgeVal($event)&quot;&gt;&lt;/el-input&gt;</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">judgeVal(value) {</p>
<p style="margin:0px;">      console.log(value,'judgeVal'); </p>
<p style="margin:0px;">        let val = (value &amp;&amp; value.split(&quot;&quot;)) || [];</p>
<p style="margin:0px;">        let sNum = val.toString(); //先转换成字符串类型</p>
<p style="margin:0px;">        if (sNum.indexOf('.') === 0) {//第一位就是 . </p>
<p style="margin:0px;">          sNum = '0' + sNum</p>
<p style="margin:0px;">        }</p>
<p style="margin:0px;">        sNum = sNum.replace(/[^\d.]/g,&quot;&quot;);  //清除“数字”和“.”以外的字符</p>
<p style="margin:0px;">        sNum = sNum.replace(/\.{2,}/g,&quot;.&quot;); //只保留第一个. 清除多余的</p>
<p style="margin:0px;">        sNum = sNum.replace(&quot;.&quot;,&quot;$#$&quot;).replace(/\./g,&quot;&quot;).replace(&quot;$#$&quot;,&quot;.&quot;);</p>
<p style="margin:0px;">        sNum = sNum.replace(/^(\-)*(\d+)\.(\d\d).*$/,'$1$2.$3');//只能输入两个小数</p>
<p style="margin:0px;">        //以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额</p>
<p style="margin:0px;">        if(sNum.indexOf(&quot;.&quot;)&lt; 0 &amp;&amp; sNum !==&quot;&quot;){</p>
<p style="margin:0px;">          sNum = parseFloat(sNum);</p>
<p style="margin:0px;">        }</p>
<p style="margin:0px;">        this.params.fillCommission = sNum; </p>
<p style="margin:0px;">    }</p>
<p style="margin:0px;">···</p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin:0px;"><br /></p>
<p style="margin:0px;">如果想添加可以输入负号“-” 的功能，则在校验方法的返回值之前加上如下代码</p>
<p style="margin:0px;">if (value.charAt(0) === '-') sNum = &quot;-&quot; + sNum</p>

<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>