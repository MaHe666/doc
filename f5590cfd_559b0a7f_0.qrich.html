<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta name="qrichtext" content="1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
p, li { white-space: pre-wrap; }
</style>
</head>
<body style="font-family:'微软雅黑'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="margin:0px;"><span style="font-family:'Courier';">&lt;el-input </span><span style="font-family:'Courier'; font-weight:600; color:#8b008b;">class</span><span style="font-family:'Courier';">=</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;input&quot;</span><span style="font-family:'Courier';"> v-model=</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;params.fillCommission&quot;</span><span style="font-family:'Courier';"> clearable @input=</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;judgeVal($event)&quot;</span><span style="font-family:'Courier';">&gt;&lt;/el-input&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin:0px; font-family:'Courier';"><br /></p>
<p style="margin:0px;"><span style="font-family:'Courier';">judgeVal(value) {</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">      console</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">log(value,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">'judgeVal'</span><span style="font-family:'Courier';">); </span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        let val = (value &amp;&amp; value</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">split(</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;&quot;</span><span style="font-family:'Courier';">)) || [];</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        let sNum = val</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">toString(); </span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//先转换成字符串类型</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        </span><span style="font-family:'Courier'; font-weight:600; color:#8b008b;">if</span><span style="font-family:'Courier';"> (sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">indexOf(</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">'.'</span><span style="font-family:'Courier';">) === </span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">0</span><span style="font-family:'Courier';">) {</span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//第一位就是 . </span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">          sNum = </span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">'0'</span><span style="font-family:'Courier';"> + sNum</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        }</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        sNum = sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">replace(/[^\d.]/g,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;&quot;</span><span style="font-family:'Courier';">);  </span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//清除“数字”和“.”以外的字符</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        sNum = sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">replace(/\.{</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">2</span><span style="font-family:'Courier';">,}/g,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;.&quot;</span><span style="font-family:'Courier';">); </span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//只保留第一个. 清除多余的</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        sNum = sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">replace(</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;.&quot;</span><span style="font-family:'Courier';">,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;$#$&quot;</span><span style="font-family:'Courier';">).replace(/\./g,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;&quot;</span><span style="font-family:'Courier';">).replace(</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;$#$&quot;</span><span style="font-family:'Courier';">,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;.&quot;</span><span style="font-family:'Courier';">);</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        sNum = sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">replace(/^(\-)*(\d+)\.(\d\d).*$/,</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">'$1$2.$3'</span><span style="font-family:'Courier';">);</span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//只能输入两个小数</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        </span><span style="font-family:'Courier'; font-style:italic; color:#778899;">//以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        </span><span style="font-family:'Courier'; font-weight:600; color:#8b008b;">if</span><span style="font-family:'Courier';">(sNum</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">indexOf(</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;.&quot;</span><span style="font-family:'Courier';">)&lt; </span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">0</span><span style="font-family:'Courier';"> &amp;&amp; sNum !==</span><span style="font-family:'Courier'; font-weight:600; color:#2e8b57;">&quot;&quot;</span><span style="font-family:'Courier';">){</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">          sNum = parseFloat(sNum);</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        }</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">        </span><span style="font-family:'Courier'; font-weight:600; color:#8b008b;">this</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">params</span><span style="font-family:'Courier'; font-weight:600; color:#4682b4;">.</span><span style="font-family:'Courier';">fillCommission = sNum; </span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">    }</span></p>
<p style="margin:0px;"><span style="font-family:'Courier';">···</span></p>

<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>