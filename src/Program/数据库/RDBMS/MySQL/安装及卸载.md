---
title: 安装及卸载
order: 10
---

## 安装

建议使用压缩包，不要使用exe安装包，因为他会走到注册表，之后换版本会很麻烦

1. 解压，将包放一个方便的位置以进行后续的安装

2. 配置环境变量

   将mysql的bin目录路径放到系统环境变量的path里面

3. 新建mysql配置文件 my.ini

   ```
   [mysqld]
   basedir=mysql基本路径\
   datadir=mysql基本路径下data路径\	#如果没有这个文件夹，不要新建
   port=3306
   skip-grant-tables	
   ```

4. 启动管理员模式下的cmd，安装服务

   ```bash
   mysqld -install
   ```

5. 初始化数据库文件

   ```bash
   mysqld --initialize-insecure --user=mysql
   ```

6. 启动mysql服务，输入

   ```bash
   net start mysql
   ```

7. 通过命令行进入mysql，输入

   ```bash
   mysql -uroot -p		#-p后面不要带空格
   ```

8. 修改密码

   ```sql
   update mysql.user set authentication_string=password('密码') where user='root' and Host='localhost';
   ```

9. 刷新权限

   ```sql
   flush privileges;
   ```

10. 删除或注释 `my.ini` 最后一行的 `skip-grant-tables`

11. 重启mysql服务

    ```bash
    net stop mysql
    net start mysql
    ```

## 卸载

```bash
# 停止服务
net stop mysql
# 卸载服务
mysqld -remove
```

然后删除环境变量和mysql物理文件就好

## 可能会遇到的问题

### 1055

在my.ini中加入
```
sql-mode="STRICT_ALL_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ZERO_DATE,NO_ZERO_IN_DATE,NO_AUTO_CREATE_USER"
```

### 3167

在my.ini中加入
```
show_compatibility_56 = 1
```

### 初始化数据库异常

```bash
mysqld --initialize-insecure --user=mysql
```

以上语句出现异常

把路径下的\改为/，或把\改为\\\

### 启动服务，错误代码2

相关博客：

- <http://www.javashuo.com/article/p-oxaabidy-vp.html>
